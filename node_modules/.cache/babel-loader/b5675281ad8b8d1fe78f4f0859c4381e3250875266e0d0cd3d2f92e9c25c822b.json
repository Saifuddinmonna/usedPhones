{"ast":null,"code":"var _jsxFileName = \"G:\\\\Web development\\\\programming hero\\\\milestone -12\\\\doctors-portal-client-module-77-5-main\\\\doctors-portal-client-module-77-5-main\\\\src\\\\Pages\\\\SignUp\\\\SignUp.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport toast from 'react-hot-toast';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { AuthContext } from '../../contexts/AuthProvider';\nimport useToken from '../../hooks/useToken';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SignUp = () => {\n  _s();\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n  const {\n    createUser,\n    updateUser\n  } = useContext(AuthContext);\n  const [signUpError, setSignUPError] = useState('');\n  const [createdUserEmail, setCreatedUserEmail] = useState('');\n  const [token] = useToken(createdUserEmail);\n  const navigate = useNavigate();\n  if (token) {\n    navigate('/');\n  }\n  const handleSignUp = data => {\n    setSignUPError('');\n    createUser(data.email, data.password).then(result => {\n      const user = result.user;\n      console.log(user);\n      toast('User Created Successfully.');\n      const userInfo = {\n        displayName: data.name\n      };\n      updateUser(userInfo).then(() => {\n        saveUser(data.name, data.email);\n      }).catch(err => console.log(err));\n    }).catch(error => {\n      console.log(error);\n      setSignUPError(error.message);\n    });\n  };\n  const saveUser = (name, email) => {\n    const user = {\n      name,\n      email\n    };\n    fetch('https://doctors-portal-server-rust.vercel.app/users', {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json'\n      },\n      body: JSON.stringify(user)\n    }).then(res => res.json()).then(data => {\n      setCreatedUserEmail(email);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-[800px] flex justify-center items-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-96 p-7\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl text-center\",\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(handleSignUp),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-control w-full max-w-xs\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"label\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"label-text\",\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 51\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            ...register(\"name\", {\n              required: \"Name is Required\"\n            }),\n            className: \"input input-bordered w-full max-w-xs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this), errors.name && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-500\",\n            children: errors.name.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-control w-full max-w-xs\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"label\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"label-text\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 51\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            ...register(\"email\", {\n              required: true\n            }),\n            className: \"input input-bordered w-full max-w-xs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), errors.email && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-500\",\n            children: errors.email.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 42\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-control w-full max-w-xs\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"label\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"label-text\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 51\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            ...register(\"password\", {\n              required: \"Password is required\",\n              minLength: {\n                value: 6,\n                message: \"Password must be 6 characters long\"\n              },\n              pattern: {\n                value: /(?=.*[A-Z])(?=.*[!@#$&*])(?=.*[0-9])/,\n                message: 'Password must have uppercase, number and special characters'\n              }\n            }),\n            className: \"input input-bordered w-full max-w-xs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this), errors.password && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-500\",\n            children: errors.password.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 45\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"btn btn-accent w-full mt-4\",\n          value: \"Sign Up\",\n          type: \"submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this), signUpError && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-600\",\n          children: signUpError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Already have an account \", /*#__PURE__*/_jsxDEV(Link, {\n          className: \"text-secondary\",\n          to: \"/login\",\n          children: \"Please Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 44\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"divider\",\n        children: \"OR\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline w-full\",\n        children: \"CONTINUE WITH GOOGLE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n};\n_s(SignUp, \"6ENuO88oTmhUHR17Mfdf3cCOoYM=\", false, function () {\n  return [useForm, useToken, useNavigate];\n});\n_c = SignUp;\nexport default SignUp;\nvar _c;\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"names":["React","useContext","useState","useForm","toast","Link","useNavigate","AuthContext","useToken","SignUp","register","handleSubmit","formState","errors","createUser","updateUser","signUpError","setSignUPError","createdUserEmail","setCreatedUserEmail","token","navigate","handleSignUp","data","email","password","then","result","user","console","log","userInfo","displayName","name","saveUser","catch","err","error","message","fetch","method","headers","body","JSON","stringify","res","json","required","minLength","value","pattern"],"sources":["G:/Web development/programming hero/milestone -12/doctors-portal-client-module-77-5-main/doctors-portal-client-module-77-5-main/src/Pages/SignUp/SignUp.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport toast from 'react-hot-toast';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { AuthContext } from '../../contexts/AuthProvider';\nimport useToken from '../../hooks/useToken';\n\nconst SignUp = () => {\n    const { register, handleSubmit, formState: { errors } } = useForm();\n    const { createUser, updateUser } = useContext(AuthContext);\n    const [signUpError, setSignUPError] = useState('');\n    const [createdUserEmail, setCreatedUserEmail] = useState('')\n    const [token] = useToken(createdUserEmail);\n    const navigate = useNavigate();\n\n    if(token){\n        navigate('/');\n    }\n\n    const handleSignUp = (data) => {\n        setSignUPError('');\n        createUser(data.email, data.password)\n            .then(result => {\n                const user = result.user;\n                console.log(user);\n                toast('User Created Successfully.')\n                const userInfo = {\n                    displayName: data.name\n                }\n                updateUser(userInfo)\n                    .then(() => {\n                        saveUser(data.name, data.email);\n                    })\n                    .catch(err => console.log(err));\n            })\n            .catch(error => {\n                console.log(error)\n                setSignUPError(error.message)\n            });\n    }\n\n    const saveUser = (name, email) =>{\n        const user ={name, email};\n        fetch('https://doctors-portal-server-rust.vercel.app/users', {\n            method: 'POST',\n            headers: {\n                'content-type': 'application/json'\n            },\n            body: JSON.stringify(user)\n        })\n        .then(res => res.json())\n        .then(data =>{\n            setCreatedUserEmail(email);\n        })\n    }\n\n    \n\n    return (\n        <div className='h-[800px] flex justify-center items-center'>\n            <div className='w-96 p-7'>\n                <h2 className='text-xl text-center'>Sign Up</h2>\n                <form onSubmit={handleSubmit(handleSignUp)}>\n                    <div className=\"form-control w-full max-w-xs\">\n                        <label className=\"label\"> <span className=\"label-text\">Name</span></label>\n                        <input type=\"text\" {...register(\"name\", {\n                            required: \"Name is Required\"\n                        })} className=\"input input-bordered w-full max-w-xs\" />\n                        {errors.name && <p className='text-red-500'>{errors.name.message}</p>}\n                    </div>\n                    <div className=\"form-control w-full max-w-xs\">\n                        <label className=\"label\"> <span className=\"label-text\">Email</span></label>\n                        <input type=\"email\" {...register(\"email\", {\n                            required: true\n                        })} className=\"input input-bordered w-full max-w-xs\" />\n                        {errors.email && <p className='text-red-500'>{errors.email.message}</p>}\n                    </div>\n                    <div className=\"form-control w-full max-w-xs\">\n                        <label className=\"label\"> <span className=\"label-text\">Password</span></label>\n                        <input type=\"password\" {...register(\"password\", {\n                            required: \"Password is required\",\n                            minLength: { value: 6, message: \"Password must be 6 characters long\" },\n                            pattern: { value: /(?=.*[A-Z])(?=.*[!@#$&*])(?=.*[0-9])/, message: 'Password must have uppercase, number and special characters' }\n                        })} className=\"input input-bordered w-full max-w-xs\" />\n                        {errors.password && <p className='text-red-500'>{errors.password.message}</p>}\n                    </div>\n                    <input className='btn btn-accent w-full mt-4' value=\"Sign Up\" type=\"submit\" />\n                    {signUpError && <p className='text-red-600'>{signUpError}</p>}\n                </form>\n                <p>Already have an account <Link className='text-secondary' to=\"/login\">Please Login</Link></p>\n                <div className=\"divider\">OR</div>\n                <button className='btn btn-outline w-full'>CONTINUE WITH GOOGLE</button>\n\n            </div>\n        </div>\n    );\n};\n\nexport default SignUp;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}